
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Introduction to working with strings &#8212; Programming in Python for Data Science</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.e8e5499552300ddf5d7adccae7cc3b70.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/video.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://hfboyce.github.io/ppds/intro.html/modules /module8/module8_19.html" />
    <link rel="shortcut icon" href="../../_static/icon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
      <img src="../../_static/logo.svg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Programming in Python for Data Science</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        
    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/modules /module8/module8_19.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/UBC-MDS/PPDS_book"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/UBC-MDS/PPDS_book/issues/new?title=Issue%20on%20page%20%2Fmodules /module8/module8_19.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/UBC-MDS/PPDS_book/edit/main/modules /module8/module8_19.md"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Introduction to working with strings
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#recap">
     Recap
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#processing-string-columns">
     Processing String Columns
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#strip">
     Strip
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lets-apply-what-we-learned">
   Let’s apply what we learned!
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="introduction-to-working-with-strings">
<h1>Introduction to working with strings<a class="headerlink" href="#introduction-to-working-with-strings" title="Permalink to this headline">¶</a></h1>
<p>Notes:</p>
<br>
<hr class="docutils" />
<div class="section" id="recap">
<h2>Recap<a class="headerlink" href="#recap" title="Permalink to this headline">¶</a></h2>
<p>Let’s first remind ourselves of some of the methods we’ve already
learned such as:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.upper()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.lower()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.count()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.split()</span></code></p></li>
</ul>
<!-- end list -->
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">instrument</span> <span class="o">=</span> <span class="s1">&#39;Violin&#39;</span>
<span class="n">instrument</span>
</pre></div>
</div>
<div class="highlight-out notranslate"><div class="highlight"><pre><span></span>&#39;Violin&#39;
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">instrument</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-out notranslate"><div class="highlight"><pre><span></span>&#39;VIOLIN&#39;
</pre></div>
</div>
<p>Notes:</p>
<p>Although we have already introduced you to strings to a certain degree,
processing and working with this data type is an area that will require
a substantial amount of learning.</p>
<p>In this course, we will only scratch the surface when it comes to
strings.</p>
<p>That being said, we do hope to provide you with an adequate foundation
in string processing.</p>
<p>Let’s first remind ourselves of some of the methods we’ve already
learned such as:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.upper()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.lower()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.uppercase()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.count()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.split()</span></code></p></li>
</ul>
<p>When we work with just a general string, we can just use the function at
the end of the object name.</p>
<p>For example, if our string object name was <code class="docutils literal notranslate"><span class="pre">instrument</span></code>.</p>
<p>We could convert to all uppercase characters with <code class="docutils literal notranslate"><span class="pre">instrument.upper()</span></code></p>
<hr class="docutils" />
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">instrument</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-out notranslate"><div class="highlight"><pre><span></span>&#39;violin&#39;
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">instrument</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-out notranslate"><div class="highlight"><pre><span></span>2
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">instrument</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-out notranslate"><div class="highlight"><pre><span></span>[&#39;V&#39;, &#39;ol&#39;, &#39;n&#39;]
</pre></div>
</div>
<p>Notes:</p>
<p>Or convert the string to lowercase with <code class="docutils literal notranslate"><span class="pre">instrument.lower()</span></code>.</p>
<p>We could count the number of occurrences of the letter “i” using
<code class="docutils literal notranslate"><span class="pre">instrument.count('i')</span></code></p>
<p>And split a string on a specified character (for example, in this case,
“i”) using the code <code class="docutils literal notranslate"><span class="pre">instrument.split('i')</span></code></p>
</div>
<hr class="docutils" />
<div class="section" id="processing-string-columns">
<h2>Processing String Columns<a class="headerlink" href="#processing-string-columns" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cycling</span>
</pre></div>
</div>
<div class="highlight-out notranslate"><div class="highlight"><pre><span></span>                 Date            Name  Type  Time  Distance                                   Comments
0   Sep-10-2019 17:13  Afternoon Ride  Ride  2084     12.62                                      Rain 
1   Sep-11-2019 06:52    Morning Ride  Ride  2531     13.03                                       rain
2   Sep-11-2019 17:23  Afternoon Ride  Ride  1863     12.52                  Wet road but nice whether
3   Sep-12-2019 07:06    Morning Ride  Ride  2192     12.84               Stopped for photo of sunrise
4   Sep-12-2019 17:28  Afternoon Ride  Ride  1891     12.48              Tired by the end of the week.
..                ...             ...   ...   ...       ...                                        ...
28  Oct-04-2019 18:08  Afternoon Ride  Ride  1870     12.63           Very tired, riding into the wind
29  Oct-10-2019 07:55    Morning Ride  Ride  2149     12.70              Really cold! But feeling good
30  Oct-10-2019 18:10  Afternoon Ride  Ride  1841     12.59        Feeling good after a holiday break!
31  Oct-11-2019 07:47    Morning Ride  Ride  2463     12.79               Stopped for photo of sunrise
32  Oct-11-2019 18:16  Afternoon Ride  Ride  1843     11.79  Bike feeling tight, needs an oil and pump

[33 rows x 6 columns]
</pre></div>
</div>
<p>Notes:</p>
<p>The only problem is that when we work with data, we will be applying
these transformations, not to a single string, but to a whole column of
them.</p>
<p>We saw back in Module 4 that string data is represented in a pandas
dataframe using the dtype <code class="docutils literal notranslate"><span class="pre">object</span></code>.</p>
<p>This is the default dtype given to columns that have a mix of different
data types or if pandas cannot identify the column as any other dtype.</p>
<p>Let’s bring back our <code class="docutils literal notranslate"><span class="pre">cycling</span></code> dataframe to demonstrate how to work with
columns of this dtype.</p>
<hr class="docutils" />
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">upper_cycle</span> <span class="o">=</span> <span class="n">cycling</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Comments</span> <span class="o">=</span> <span class="n">cycling</span><span class="p">[</span><span class="s1">&#39;Comments&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
<span class="n">upper_cycle</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-out notranslate"><div class="highlight"><pre><span></span>                Date            Name  Type  Time  Distance                       Comments
0  Sep-10-2019 17:13  Afternoon Ride  Ride  2084     12.62                          RAIN 
1  Sep-11-2019 06:52    Morning Ride  Ride  2531     13.03                           RAIN
2  Sep-11-2019 17:23  Afternoon Ride  Ride  1863     12.52      WET ROAD BUT NICE WHETHER
3  Sep-12-2019 07:06    Morning Ride  Ride  2192     12.84   STOPPED FOR PHOTO OF SUNRISE
4  Sep-12-2019 17:28  Afternoon Ride  Ride  1891     12.48  TIRED BY THE END OF THE WEEK.
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rain_cycle</span> <span class="o">=</span> <span class="n">upper_cycle</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Rain</span> <span class="o">=</span> <span class="n">upper_cycle</span><span class="p">[</span><span class="s1">&#39;Comments&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;RAIN&#39;</span><span class="p">))</span>
<span class="n">rain_cycle</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-out notranslate"><div class="highlight"><pre><span></span>                Date            Name  Type  Time  Distance                       Comments  Rain
0  Sep-10-2019 17:13  Afternoon Ride  Ride  2084     12.62                          RAIN      1
1  Sep-11-2019 06:52    Morning Ride  Ride  2531     13.03                           RAIN     1
2  Sep-11-2019 17:23  Afternoon Ride  Ride  1863     12.52      WET ROAD BUT NICE WHETHER     0
3  Sep-12-2019 07:06    Morning Ride  Ride  2192     12.84   STOPPED FOR PHOTO OF SUNRISE     0
4  Sep-12-2019 17:28  Afternoon Ride  Ride  1891     12.48  TIRED BY THE END OF THE WEEK.     0
</pre></div>
</div>
<p>Notes:</p>
<p>Remember when we discussed datetimes columns, and we applied time
functions to a whole column by adding <code class="docutils literal notranslate"><span class="pre">.dt</span></code> before the function?</p>
<p>We can use that same syntax style when applying string transformations
to entire columns but this time using <code class="docutils literal notranslate"><span class="pre">.str</span></code>.</p>
<p>Perhaps we wanted the entire <code class="docutils literal notranslate"><span class="pre">Comments</span></code> column from our <code class="docutils literal notranslate"><span class="pre">cycling</span></code>
dataframe in uppercase.</p>
<p>We can use <code class="docutils literal notranslate"><span class="pre">.assign()</span></code> and <code class="docutils literal notranslate"><span class="pre">.upper</span></code> paired with <code class="docutils literal notranslate"><span class="pre">.str</span></code> to transform the
column.</p>
<p>Not too, shabby!</p>
<p>How about we add a new column that contains the number of times “RAIN”
is counted in <code class="docutils literal notranslate"><span class="pre">upper_cycle</span></code>.</p>
<p>Again we use <code class="docutils literal notranslate"><span class="pre">.str.count('RAIN')</span></code></p>
<hr class="docutils" />
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">upper_cycle</span><span class="p">[</span><span class="s1">&#39;Comments&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-out notranslate"><div class="highlight"><pre><span></span>          0        1       2        3        4       5      6     7
0      RAIN     None    None     None     None    None   None  None
1      RAIN     None    None     None     None    None   None  None
2       WET     ROAD     BUT     NICE  WHETHER    None   None  None
3   STOPPED      FOR   PHOTO       OF  SUNRISE    None   None  None
4     TIRED       BY     THE      END       OF     THE  WEEK.  None
..      ...      ...     ...      ...      ...     ...    ...   ...
28     VERY   TIRED,  RIDING     INTO      THE    WIND   None  None
29   REALLY    COLD!     BUT  FEELING     GOOD    None   None  None
30  FEELING     GOOD   AFTER        A  HOLIDAY  BREAK!   None  None
31  STOPPED      FOR   PHOTO       OF  SUNRISE    None   None  None
32     BIKE  FEELING  TIGHT,    NEEDS       AN     OIL    AND  PUMP

[33 rows x 8 columns]
</pre></div>
</div>
<p>Notes:</p>
<p>We’ve also seen this syntax when we used <code class="docutils literal notranslate"><span class="pre">str.split()</span></code> in Module 4 when
we learned about splitting our columns.</p>
<p>Here we split up every word in the <code class="docutils literal notranslate"><span class="pre">Comments</span></code> column and created a new
column for each.</p>
<hr class="docutils" />
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;My favorite colour&quot;</span> <span class="o">+</span> <span class="s2">&quot;is Blue&quot;</span>
</pre></div>
</div>
<div class="highlight-out notranslate"><div class="highlight"><pre><span></span>&#39;My favorite colouris Blue&#39;
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">combined_cycle</span> <span class="o">=</span> <span class="n">cycling</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Distance_str</span> <span class="o">=</span> <span class="n">cycling</span><span class="p">[</span><span class="s1">&#39;Distance&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;str&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; km&#39;</span><span class="p">)</span>
<span class="n">combined_cycle</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-out notranslate"><div class="highlight"><pre><span></span>                Date            Name  Type  Time  Distance                       Comments Distance_str
0  Sep-10-2019 17:13  Afternoon Ride  Ride  2084     12.62                          Rain      12.62 km
1  Sep-11-2019 06:52    Morning Ride  Ride  2531     13.03                           rain     13.03 km
2  Sep-11-2019 17:23  Afternoon Ride  Ride  1863     12.52      Wet road but nice whether     12.52 km
3  Sep-12-2019 07:06    Morning Ride  Ride  2192     12.84   Stopped for photo of sunrise     12.84 km
4  Sep-12-2019 17:28  Afternoon Ride  Ride  1891     12.48  Tired by the end of the week.     12.48 km
</pre></div>
</div>
<p>Notes:</p>
<p>Another operation that we’ve lightly touched on is the concatenation of
strings. For instance, when we add 2 strings together:</p>
<p>This can be implemented in dataframes too by concatenating a column with
<code class="docutils literal notranslate"><span class="pre">str</span></code> values with another <code class="docutils literal notranslate"><span class="pre">str</span></code> and create a column:</p>
<hr class="docutils" />
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">upper_cycle</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-out notranslate"><div class="highlight"><pre><span></span>                Date            Name  Type  Time  Distance                   Comments
0  Sep-10-2019 17:13  Afternoon Ride  Ride  2084     12.62                      RAIN 
1  Sep-11-2019 06:52    Morning Ride  Ride  2531     13.03                       RAIN
2  Sep-11-2019 17:23  Afternoon Ride  Ride  1863     12.52  WET ROAD BUT NICE WHETHER
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cap_cycle</span> <span class="o">=</span> <span class="n">upper_cycle</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Comments</span> <span class="o">=</span> <span class="n">upper_cycle</span><span class="p">[</span><span class="s1">&#39;Comments&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">capitalize</span><span class="p">())</span>
<span class="n">cap_cycle</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-out notranslate"><div class="highlight"><pre><span></span>                Date            Name  Type  Time  Distance                   Comments
0  Sep-10-2019 17:13  Afternoon Ride  Ride  2084     12.62                      Rain 
1  Sep-11-2019 06:52    Morning Ride  Ride  2531     13.03                       Rain
2  Sep-11-2019 17:23  Afternoon Ride  Ride  1863     12.52  Wet road but nice whether
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cap_cycle</span> <span class="o">=</span> <span class="n">upper_cycle</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Comments</span> <span class="o">=</span> <span class="n">upper_cycle</span><span class="p">[</span><span class="s1">&#39;Comments&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">title</span><span class="p">())</span>
<span class="n">cap_cycle</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-out notranslate"><div class="highlight"><pre><span></span>                Date            Name  Type  Time  Distance                   Comments
0  Sep-10-2019 17:13  Afternoon Ride  Ride  2084     12.62                      Rain 
1  Sep-11-2019 06:52    Morning Ride  Ride  2531     13.03                       Rain
2  Sep-11-2019 17:23  Afternoon Ride  Ride  1863     12.52  Wet Road But Nice Whether
</pre></div>
</div>
<p>Notes:</p>
<p>A new function we haven’t discussed but is quite similar to <code class="docutils literal notranslate"><span class="pre">.upper()</span></code>
and <code class="docutils literal notranslate"><span class="pre">.lower()</span></code> is<code class="docutils literal notranslate"><span class="pre">.capitalize()</span></code> which capitalizes the first word of the
string.</p>
<p>Another is <code class="docutils literal notranslate"><span class="pre">.title()</span></code>, which capitalizes the first letter of every word
in a string.</p>
</div>
<hr class="docutils" />
<div class="section" id="strip">
<h2>Strip<a class="headerlink" href="#strip" title="Permalink to this headline">¶</a></h2>
<p><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.str.strip.html" target="_blank"><code class="docutils literal notranslate"><span class="pre">.strip()</span></code>
</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;Sunshine&quot;</span> <span class="o">==</span> <span class="s2">&quot; Sunshine &quot;</span>
</pre></div>
</div>
<div class="highlight-out notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">string1</span> <span class="o">=</span> <span class="s2">&quot; Sunshine &quot;</span> 
<span class="n">new_string1</span> <span class="o">=</span> <span class="n">string1</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="n">new_string1</span>
</pre></div>
</div>
<div class="highlight-out notranslate"><div class="highlight"><pre><span></span>&#39;Sunshine&#39;
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;Sunshine&quot;</span> <span class="o">==</span> <span class="n">new_string1</span>
</pre></div>
</div>
<div class="highlight-out notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
<p>Notes:</p>
<p>One function that might not seem that pertinent but is extremely useful
is
<a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.str.strip.html" target="_blank"><code class="docutils literal notranslate"><span class="pre">.strip()</span></code>
</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">strip()</span></code> removes characters starting or ending a string, with the
default being spaces.</p>
<p>For Example:</p>
<p>To us, reading “Sunshine” and ” Sunshine ” are the same thing, but to
Python, they are quite different because of the blank space surrounding
it.</p>
<p>The blank space on either side of a string often needs to be removed
depending on the analysis.</p>
<p>We can remove them in the example above using <code class="docutils literal notranslate"><span class="pre">strip()</span></code>.</p>
<hr class="docutils" />
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cycling</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-out notranslate"><div class="highlight"><pre><span></span>                Date            Name  Type  Time  Distance                       Comments
0  Sep-10-2019 17:13  Afternoon Ride  Ride  2084     12.62                          Rain 
1  Sep-11-2019 06:52    Morning Ride  Ride  2531     13.03                           rain
2  Sep-11-2019 17:23  Afternoon Ride  Ride  1863     12.52      Wet road but nice whether
3  Sep-12-2019 07:06    Morning Ride  Ride  2192     12.84   Stopped for photo of sunrise
4  Sep-12-2019 17:28  Afternoon Ride  Ride  1891     12.48  Tired by the end of the week.
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cycling</span><span class="p">[</span><span class="n">cycling</span><span class="p">[</span><span class="s1">&#39;Comments&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Rain&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-out notranslate"><div class="highlight"><pre><span></span>Empty DataFrame
Columns: [Date, Name, Type, Time, Distance, Comments]
Index: []
</pre></div>
</div>
<p>Notes:</p>
<p>This can be especially frustrating when we are trying to filter
dataframes.</p>
<p>Let’s try to filter our data to find rows where the value for the
<code class="docutils literal notranslate"><span class="pre">Comments</span></code> column is “Rain”.</p>
<p>We can see that index 0 should be filtered out, but pandas does not
recognize it with the trailing blank space.</p>
<p>No rows are outputted. That’s because there is a blank space following
“Rain”.</p>
<hr class="docutils" />
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">stripped_cycling</span> <span class="o">=</span> <span class="n">cycling</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Comments</span> <span class="o">=</span> <span class="n">cycling</span><span class="p">[</span><span class="s1">&#39;Comments&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
<span class="n">stripped_cycling</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-out notranslate"><div class="highlight"><pre><span></span>                Date            Name  Type  Time  Distance                       Comments
0  Sep-10-2019 17:13  Afternoon Ride  Ride  2084     12.62                           Rain
1  Sep-11-2019 06:52    Morning Ride  Ride  2531     13.03                           rain
2  Sep-11-2019 17:23  Afternoon Ride  Ride  1863     12.52      Wet road but nice whether
3  Sep-12-2019 07:06    Morning Ride  Ride  2192     12.84   Stopped for photo of sunrise
4  Sep-12-2019 17:28  Afternoon Ride  Ride  1891     12.48  Tired by the end of the week.
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">stripped_cycling</span><span class="p">[</span><span class="n">stripped_cycling</span><span class="p">[</span><span class="s1">&#39;Comments&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Rain&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-out notranslate"><div class="highlight"><pre><span></span>                Date            Name  Type  Time  Distance Comments
0  Sep-10-2019 17:13  Afternoon Ride  Ride  2084     12.62     Rain
</pre></div>
</div>
<p>Notes:</p>
<p>Let’s now strip our column using <code class="docutils literal notranslate"><span class="pre">.strip()</span></code> and assigning the changes to
the <code class="docutils literal notranslate"><span class="pre">Comments</span></code> column of a dataframe named <code class="docutils literal notranslate"><span class="pre">stripped_cycling</span></code>.</p>
<p>Since we are using <code class="docutils literal notranslate"><span class="pre">.strip()</span></code> with a dataframe column, we have to add
<code class="docutils literal notranslate"><span class="pre">.str</span></code>.</p>
<p>This time, when we filter on <code class="docutils literal notranslate"><span class="pre">Rain</span></code> on our new <code class="docutils literal notranslate"><span class="pre">stripped_cycling</span></code>
dataframe, pandas filters out the row!</p>
<p>Ahh, that’s much better!</p>
<hr class="docutils" />
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">stripped_cycling</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-out notranslate"><div class="highlight"><pre><span></span>                 Date            Name  Type  Time  Distance                                   Comments
28  Oct-04-2019 18:08  Afternoon Ride  Ride  1870     12.63           Very tired, riding into the wind
29  Oct-10-2019 07:55    Morning Ride  Ride  2149     12.70              Really cold! But feeling good
30  Oct-10-2019 18:10  Afternoon Ride  Ride  1841     12.59        Feeling good after a holiday break!
31  Oct-11-2019 07:47    Morning Ride  Ride  2463     12.79               Stopped for photo of sunrise
32  Oct-11-2019 18:16  Afternoon Ride  Ride  1843     11.79  Bike feeling tight, needs an oil and pump
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">stripped_cycling</span><span class="p">[</span><span class="s1">&#39;Comments&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;!&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-out notranslate"><div class="highlight"><pre><span></span>28             Very tired, riding into the wind
29                Really cold! But feeling good
30           Feeling good after a holiday break
31                 Stopped for photo of sunrise
32    Bike feeling tight, needs an oil and pump
Name: Comments, dtype: object
</pre></div>
</div>
<p>Notes:</p>
<p>We are not limited to stripping the values of white space. We can also
strip any other character. Let’s try punctuation!</p>
<p>We can see that index 30 has a value of <code class="docutils literal notranslate"><span class="pre">Feeling</span> <span class="pre">good</span> <span class="pre">after</span> <span class="pre">a</span> <span class="pre">holiday</span> <span class="pre">break!</span></code> in the <code class="docutils literal notranslate"><span class="pre">Comments</span></code> column.</p>
<p>After using <code class="docutils literal notranslate"><span class="pre">str.strip('!')</span></code> we can see that it’s no longer has the
exclamation mark!</p>
</div>
</div>
<hr class="docutils" />
<div class="section" id="lets-apply-what-we-learned">
<h1>Let’s apply what we learned!<a class="headerlink" href="#lets-apply-what-we-learned" title="Permalink to this headline">¶</a></h1>
<p>Notes:</p>
<br>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "UBC-MDS/PPDS_book",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./modules /module8"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Hayley Boyce, Mike Gelbart, Tiffany Timbers<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>